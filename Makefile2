CC = gcc
CFLAGS = -g -Wall -I.
LIBS = -lgd -pthread
DIR ?= Datasets/Dataset-B
#DIR ?= Datasets/Dataset-A

all: process-photos-serial process-photos-parallel-A process-photos-parallel-B

process-photos-serial: process-photos-serial.c image-lib.c image-lib.h
	$(CC) $(CFLAGS) process-photos-serial.c image-lib.c -o serial-complex -lgd

process-photos-parallel-A: process-photos-parallel-A.c image-lib.c image-lib.h
	$(CC) $(CFLAGS) process-photos-parallel-A.c image-lib.c -o process-photos-parallel-A $(LIBS)

# Compilação da Parte B 
process-photos-parallel-B: process-photos-parallel-B.c image-lib.c image-lib.h
	$(CC) $(CFLAGS) process-photos-parallel-B.c image-lib.c -o process-photos-parallel-B $(LIBS)

clean:
	rm -f serial-complex process-photos-parallel-A process-photos-parallel-B

clean-all: clean
	rm -fr ./Result-image-dir
	rm -rf $(DIR)/Result-image-dir
	rm -f $(DIR)/*.txt
	rm -f serial-complex process-photos-parallel-A process-photos-parallel-B